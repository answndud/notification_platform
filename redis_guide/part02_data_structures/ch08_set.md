# Chapter 08 - Set 자료형

- 상태: 초안 완료
- 목표 분량: 11쪽

## 학습 목표

- Set의 중복 없는 집합 특성을 이해한다.
- 멤버십 검사와 집합 연산을 적용할 수 있다.
- Set이 적합한 문제를 선별할 수 있다.

## 핵심 개념

Set은 순서가 없고 중복을 허용하지 않는 자료형입니다.
"존재 여부"가 핵심인 기능에서 매우 유용합니다.

Set의 본질은 "중복 제거"와 "멤버십 확인"입니다.
그래서 권한 목록, 금지 목록, 태그 목록처럼
"있다/없다"가 중요한 문제를 간결하게 해결할 수 있습니다.

주요 명령:

- `SADD`, `SREM`, `SISMEMBER`
- `SMEMBERS`, `SCARD`
- `SINTER`, `SUNION`, `SDIFF`

## 실습 예제

```bash
redis-cli -p 6380 DEL tag:post:1
redis-cli -p 6380 SADD tag:post:1 redis spring redis
redis-cli -p 6380 SMEMBERS tag:post:1
redis-cli -p 6380 SISMEMBER tag:post:1 redis
```

관찰 포인트:
- 중복 입력이 자동 제거됨
- 멤버십 확인이 빠름

## 설계 포인트

- 좋아요 사용자 목록, 금지 토큰 목록, 태그 집합 등에 적합
- 전체 멤버 조회는 비용이 커질 수 있어 규모를 고려
- 대용량 집합 연산은 실행 시간과 메모리를 점검

규모가 커지면 다음을 분리해서 설계합니다.

- 실시간 체크 경로: `SISMEMBER`
- 배치 분석 경로: 별도 추출/집계 파이프라인

## 자주 하는 실수

1. 순서가 필요한 데이터를 Set에 저장
2. 대형 Set에 대해 무분별한 `SMEMBERS` 호출
3. 만료 정책 없이 영구 누적

## 요약

- Set은 중복 제거와 존재 확인에 최적화된 자료형이다.
- 집합 연산은 강력하지만 대용량에서는 비용을 측정해야 한다.
- 순서가 필요하면 Sorted Set이나 List를 고려한다.

## 연습문제

### 기초

1. 사용자 즐겨찾기 태그 저장을 Set으로 구현해보세요.
2. `SISMEMBER`로 접근 권한 체크를 시도해보세요.

### 응용

1. 두 사용자 공통 관심사 추출 기능을 설계해보세요.
2. Set 데이터 만료 정책 표준안을 작성해보세요.

## 챕터 체크리스트

- [x] 초안 작성 완료
- [x] 예제 명령어 검증 완료
- [x] 초보자 기준 용어 설명 완료
- [x] 최종 교정 완료
