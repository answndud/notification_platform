# Chapter 07 - List 자료형

- 상태: 초안 완료
- 목표 분량: 11쪽

## 학습 목표

- List의 순서 보장 특성을 이해한다.
- 큐 형태 작업에 List를 적용할 수 있다.
- Blocking 명령 사용 시 주의점을 설명할 수 있다.

## 핵심 개념

List는 순서가 있는 문자열 집합입니다.
왼쪽/오른쪽 삽입과 삭제가 가능해 큐 패턴 구현에 자주 사용됩니다.

List는 "단순 순차 처리"가 필요할 때 매우 효율적입니다.
다만 메시지 보장(중복 방지, 재처리 추적) 요구가 커지면
List만으로는 운영 부담이 커질 수 있습니다.

주요 명령:

- `LPUSH`, `RPUSH`
- `LPOP`, `RPOP`
- `LRANGE`
- `BLPOP`, `BRPOP`

## 실습 예제

```bash
redis-cli -p 6380 DEL queue:email
redis-cli -p 6380 RPUSH queue:email msg1 msg2 msg3
redis-cli -p 6380 LRANGE queue:email 0 -1
redis-cli -p 6380 LPOP queue:email
```

Blocking 소비 예제:

```bash
redis-cli -p 6380 BLPOP queue:email 5
```

## 설계 포인트

- 간단한 작업 대기열에는 유용하지만, 고급 재처리/보장 요구가 크면 Streams나 전용 브로커 검토
- 길이 제한(`LTRIM`) 정책 없이 사용하면 메모리 증가
- 소비 실패 시 재처리 전략을 별도로 설계해야 함

실무 팁:

- 생산자/소비자 처리량 차이를 모니터링
- 큐 길이 임계치 초과 시 알림 설정
- 장애 시 재적재 절차를 런북에 명시

## 자주 하는 실수

1. 소비 실패 케이스를 고려하지 않고 단순 POP만 구현
2. 무한 적재로 List 길이 폭증
3. Blocking 소비자 수 조절 없이 무작정 확장

## 요약

- List는 순서 기반 단순 큐 패턴에 적합하다.
- 운영에서는 길이 관리와 실패 재처리 전략이 필수다.
- 보장 수준이 높아질수록 Streams/브로커와 비교해야 한다.

## 연습문제

### 기초

1. `RPUSH`/`LPOP`으로 FIFO 큐를 구성해보세요.
2. `BLPOP` 타임아웃 동작을 확인해보세요.

### 응용

1. 실패 메시지를 별도 List로 옮기는 구조를 설계해보세요.
2. List 길이 상한 정책을 정의해보세요.

## 챕터 체크리스트

- [x] 초안 작성 완료
- [x] 예제 명령어 검증 완료
- [x] 초보자 기준 용어 설명 완료
- [x] 최종 교정 완료
